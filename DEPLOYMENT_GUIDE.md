# Want A Smoothie - Netlify Deployment Guide

## Overview

This guide walks you through deploying the Want A Smoothie website to Netlify for free hosting with a custom domain.

---

## Step 1: Prepare Files

After downloading/exporting the project from Replit:

1. **Replace `package.json`** with the clean Netlify version:
   - Delete the current `package.json`
   - Rename `package.netlify.json` to `package.json`

2. **Files to keep** (these are required for the site to build):
   - `client/` folder (all frontend code)
   - `attached_assets/` folder (smoothie photos, brand logos - **required for build**)
   - `client/public/images/` (logo files referenced by components)
   - `vite.config.netlify.ts` (clean Vite config for Netlify)
   - `netlify.toml` (Netlify build & redirect config)
   - `tailwind.config.ts`
   - `tsconfig.json`
   - `postcss.config.js`
   - `.gitignore`
   - `package.json` (the renamed netlify version)

3. **Files you can safely delete** (optional cleanup, not needed for Netlify):
   - `server/` folder
   - `shared/` folder
   - `src/` folder (old build scripts)
   - `drizzle.config.ts`
   - `build-static.js`, `build-for-deployment.js`, `serve-brands.js`
   - `components.json`
   - `.replit`, `replit.md`
   - `vite.config.ts` (the Replit version - you're using `vite.config.netlify.ts` instead)
   - `package.netlify.json` (already renamed to `package.json`)
   - Any `.zip` files
   - `package-lock.json` (will be regenerated by `npm install`)

---

## Step 2: Push to GitHub

Open a terminal in your project folder and run:

```bash
git init
git add .
git commit -m "Want A Smoothie - ready for Netlify"
git branch -M main
git remote add origin https://github.com/YOUR-USERNAME/want-a-smoothie.git
git push -u origin main
```

Replace `YOUR-USERNAME` with your GitHub username.

---

## Step 3: Deploy to Netlify

1. Go to [netlify.com](https://netlify.com) and sign in (or create a free account)
2. Click **"Add new site"** > **"Import an existing project"**
3. Choose **GitHub** and select your `want-a-smoothie` repository
4. Netlify will auto-detect settings from `netlify.toml`:
   - **Build command**: `npx vite build --config vite.config.netlify.ts`
   - **Publish directory**: `dist`
5. Click **"Deploy site"**

---

## Step 4: Set Up Custom Domain

### In Netlify:
1. Go to **Site settings** > **Domain management**
2. Click **"Add custom domain"**
3. Add `www.wantasmoothie.com` as the primary domain
4. Add `wantasmoothie.com` as a domain alias

### In Squarespace (your domain registrar):
Update your DNS records to point to Netlify instead of Replit:

| Host | Type | Value |
|------|------|-------|
| `@` | A | `75.2.60.5` |
| `www` | CNAME | `YOUR-SITE-NAME.netlify.app` |

Replace `YOUR-SITE-NAME` with the Netlify site name shown in your dashboard.

**Remove** the old Replit records:
- Remove the A records pointing to `34.111.179.208`
- Remove the TXT records with `replit-verify=...`

### SSL Certificate:
Netlify provides free SSL automatically. After DNS propagates (up to 48 hours), your site will have HTTPS.

---

## Step 5: Verify

After deployment, check:

- [ ] `https://www.wantasmoothie.com` loads correctly
- [ ] `https://wantasmoothie.com` redirects to `https://www.wantasmoothie.com` (handled by `netlify.toml`)
- [ ] All smoothie images load in the carousel
- [ ] Google Forms contact form works
- [ ] Sister brand links in footer work (Bounce Back Fitness, Float Into Wellness)
- [ ] Logos display correctly (Want A Smoothie, Knot Just Bagels)

---

## How It Works

### Build Process
- Netlify runs `npx vite build --config vite.config.netlify.ts`
- Vite bundles all React components, CSS, and images into static files
- Output goes to `dist/` folder which Netlify serves

### Domain Redirects
The `netlify.toml` file handles:
- **Apex to www redirect**: `wantasmoothie.com` â†’ `www.wantasmoothie.com` (301)
- **SPA fallback**: All routes serve `index.html` (React Router handles routing)

### What's Included
- Full React SPA with all sections (Hero, About, Location, Contact, Footer)
- Google Forms integration for contact form
- Smoothie image carousel with 12 product photos
- Sister brand links (Bounce Back Fitness, Float Into Wellness)
- SEO: Meta tags, Open Graph, Twitter Cards, JSON-LD structured data
- Responsive design for mobile, tablet, and desktop

---

## Updating Content Later

To update the site after deployment:

1. Edit files locally or in GitHub
2. Push changes to the `main` branch
3. Netlify automatically rebuilds and deploys

Common updates:
- **Business hours**: Edit `client/src/components/location-section.tsx`
- **About text**: Edit `client/src/components/about-section.tsx`
- **Menu/pricing**: Edit `client/src/components/services-section.tsx`
- **Contact form**: Edit `client/src/components/contact-section.tsx`
- **SEO/meta tags**: Edit `client/index.html`
- **Order Now link**: Search for `PLACEHOLDER_WANT_A_SMOOTHIE` and replace with actual Square link

---

## External Services

| Service | Used For | Update Location |
|---------|----------|----------------|
| Google Forms | Contact form | `contact-section.tsx` (iframe URL) |
| Square | Order Now button | `hero-section.tsx` and `location-section.tsx` |
| Google Analytics | Site analytics | `client/index.html` (add GA4 script) |

---

## Troubleshooting

**Build fails:**
- Check the Netlify deploy log for specific errors
- Make sure all files in `attached_assets/` are included
- Verify `vite.config.netlify.ts` exists

**Images not loading:**
- Ensure `attached_assets/` folder is committed to Git
- Ensure `client/public/images/` folder is committed

**Domain not working:**
- DNS propagation can take up to 48 hours
- Verify DNS records in Squarespace match Netlify's instructions
- Check Netlify's Domain settings for verification status
